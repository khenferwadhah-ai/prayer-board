<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</title>

<style>
  body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #141e30, #243b55);
    font-family: Arial, sans-serif;
  }

  .game {
    background: white;
    padding: 25px;
    border-radius: 18px;
    width: 90%;
    max-width: 360px;
    text-align: center;
    box-shadow: 0 15px 35px rgba(0,0,0,0.35);
    animation: fadeIn 0.8s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
  }

  h2 {
    margin-top: 0;
    color: #222;
  }

  input, select {
    width: 80%;
    padding: 10px;
    font-size: 16px;
    border-radius: 10px;
    border: 1px solid #ccc;
    text-align: center;
    margin-bottom: 8px;
  }

  button {
    margin: 5px;
    padding: 10px 16px;
    font-size: 14px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    color: white;
    transition: transform 0.2s;
  }

  button:hover {
    transform: scale(1.05);
  }

  .check { background: #4CAF50; }
  .reset { background: #2196F3; }

  #result {
    font-size: 16px;
    font-weight: bold;
    min-height: 24px;
  }

  .win {
    animation: winAnim 0.6s ease;
    color: green;
  }

  @keyframes winAnim {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
  }

  #tries, #time, #score {
    font-size: 14px;
    color: #555;
  }

  .leaderboard {
    margin-top: 12px;
    text-align: right;
    font-size: 14px;
    color: #222;
  }

</style>
</head>

<body dir="rtl">

<div class="game">
  <h2>ğŸ¯ Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ®Ù…ÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h2>

  <label>Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©:</label>
  <select id="level" onchange="Ø¨Ø¯Ø¡_Ø§Ù„Ù„Ø¹Ø¨Ø©()">
    <option value="easy">Ø³Ù‡Ù„ (1-10)</option>
    <option value="medium">Ù…ØªÙˆØ³Ø· (1-50)</option>
    <option value="hard">ØµØ¹Ø¨ (1-100)</option>
  </select>

  <br>
  <input type="number" id="guess">
  <br>
  <button class="check" onclick="ØªØ­Ù‚Ù‚()">ØªØ­Ù‚Ù‚</button>
  <button class="reset" onclick="Ø§Ø¹Ø§Ø¯Ø©_Ø§Ù„Ù„Ø¹Ø¨()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø©</button>

  <p id="result"></p>
  <p id="tries"></p>
  <p id="time"></p>
  <p id="score"></p>

  <div class="leaderboard" id="leaderboard">
    <strong>ğŸ† Ø£ÙØ¶Ù„ Ù…Ø­Ø§ÙˆÙ„Ø§Øª:</strong><br>
  </div>
</div>

<!-- Ø£ØµÙˆØ§Øª -->
<audio id="winSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg">
</audio>

<audio id="failSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg">
</audio>

<script>
  let Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ;
  let Ø¹Ø¯Ø¯_Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª;
  let Ø§Ù„ÙˆÙ‚Øª = 0;
  let Ø§Ù„Ù…Ø¤Ù‚Øª;
  let Ø§Ù„Ù…Ø³ØªÙˆÙ‰ = "easy";
  let leaderboard = [];

  function Ø¨Ø¯Ø¡_Ø§Ù„Ù„Ø¹Ø¨Ø©() {
    const levelSelect = document.getElementById("level");
    Ø§Ù„Ù…Ø³ØªÙˆÙ‰ = levelSelect.value;

    if (Ø§Ù„Ù…Ø³ØªÙˆÙ‰ === "easy") Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ = Math.floor(Math.random() * 10) + 1;
    else if (Ø§Ù„Ù…Ø³ØªÙˆÙ‰ === "medium") Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ = Math.floor(Math.random() * 50) + 1;
    else Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ = Math.floor(Math.random() * 100) + 1;

    Ø¹Ø¯Ø¯_Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª = 0;
    Ø§Ù„ÙˆÙ‚Øª = 0;

    document.getElementById("result").textContent = "";
    document.getElementById("result").className = "";
    document.getElementById("tries").textContent = "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: 0";
    document.getElementById("time").textContent = "â±ï¸ Ø§Ù„ÙˆÙ‚Øª: 0 Ø«Ø§Ù†ÙŠØ©";
    document.getElementById("score").textContent = "";
    document.getElementById("guess").value = "";

    clearInterval(Ø§Ù„Ù…Ø¤Ù‚Øª);
    Ø§Ù„Ù…Ø¤Ù‚Øª = setInterval(() => {
      Ø§Ù„ÙˆÙ‚Øª++;
      document.getElementById("time").textContent =
        "â±ï¸ Ø§Ù„ÙˆÙ‚Øª: " + Ø§Ù„ÙˆÙ‚Øª + " Ø«Ø§Ù†ÙŠØ©";
    }, 1000);
  }

  function ØªØ­Ù‚Ù‚() {
    let ØªØ®Ù…ÙŠÙ† = Number(document.getElementById("guess").value);
    let Ù†ØªÙŠØ¬Ø© = document.getElementById("result");

    if (!ØªØ®Ù…ÙŠÙ†) return;

    Ø¹Ø¯Ø¯_Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª++;

    if (ØªØ®Ù…ÙŠÙ† === Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ) {
      Ù†ØªÙŠØ¬Ø©.textContent = `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ù„Ø±Ù‚Ù… ØµØ­ÙŠØ­ (${Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ})`;
      Ù†ØªÙŠØ¬Ø©.className = "win";
      document.getElementById("winSound").play();
      clearInterval(Ø§Ù„Ù…Ø¤Ù‚Øª);
      leaderboard.push({level: Ø§Ù„Ù…Ø³ØªÙˆÙ‰, tries: Ø¹Ø¯Ø¯_Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª, time: Ø§Ù„ÙˆÙ‚Øª});
      ØªØ­Ø¯ÙŠØ«_Ø§Ù„Ù„ÙˆØ­Ø©();
      document.getElementById("score").textContent =
        `âœ… Ù…Ø­Ø§ÙˆÙ„Ø§ØªÙƒ: ${Ø¹Ø¯Ø¯_Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª} | Ø§Ù„ÙˆÙ‚Øª: ${Ø§Ù„ÙˆÙ‚Øª} Ø«Ø§Ù†ÙŠØ©`;
    } else if (ØªØ®Ù…ÙŠÙ† > Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø³Ø±ÙŠ) {
      Ù†ØªÙŠØ¬Ø©.textContent = "â¬‡ï¸ Ø§Ù„Ø±Ù‚Ù… Ø£ØµØºØ±";
      Ù†ØªÙŠØ¬Ø©.style.color = "orange";
      document.getElementById("failSound").play();
    } else {
      Ù†ØªÙŠØ¬Ø©.textContent = "â¬†ï¸ Ø§Ù„Ø±Ù‚Ù… Ø£ÙƒØ¨Ø±";
      Ù†ØªÙŠØ¬Ø©.style.color = "orange";
      document.getElementById("failSound").play();
    }

    document.getElementById("tries").textContent =
      "Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: " + Ø¹Ø¯Ø¯_Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª;
  }

  function Ø§Ø¹Ø§Ø¯Ø©_Ø§Ù„Ù„Ø¹Ø¨() {
    Ø¨Ø¯Ø¡_Ø§Ù„Ù„Ø¹Ø¨Ø©();
  }

  function ØªØ­Ø¯ÙŠØ«_Ø§Ù„Ù„ÙˆØ­Ø©() {
    leaderboard.sort((a,b) => a.tries - b.tries || a.time - b.time);
    let html = "<strong>ğŸ† Ø£ÙØ¶Ù„ Ù…Ø­Ø§ÙˆÙ„Ø§Øª:</strong><br>";
    leaderboard.slice(0,5).forEach((item, i) => {
      html += `${i+1}. Ø§Ù„Ù…Ø³ØªÙˆÙ‰: ${item.level} | Ù…Ø­Ø§ÙˆÙ„Ø§Øª: ${item.tries} | ÙˆÙ‚Øª: ${item.time} Ø«Ø§Ù†ÙŠØ©<br>`;
    });
    document.getElementById("leaderboard").innerHTML = html;
  }

  Ø¨Ø¯Ø¡_Ø§Ù„Ù„Ø¹Ø¨Ø©();
</script>

</body>
</html>